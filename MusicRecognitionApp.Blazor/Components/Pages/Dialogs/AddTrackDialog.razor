<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6"> Adding Track </MudText>
    </TitleContent>
    <DialogContent>
        <MudText> Select an auido file (*.mp3 or *.wav) </MudText>
        <MudFileUpload T="IBrowserFile" 
                       Accept=".mp3,.wav" 
                       FilesChanged="OnFileSelected"
                       MaxFileCount="1"
                       Class="mt-4">
            <ActivatorContent>
                <MudButton Variant="Variant.Outlined"
                           Color="Color.Primary"
                           StartIcon="@Icons.Material.Filled.Upload">
                    Choose File
                </MudButton>
            </ActivatorContent>
        </MudFileUpload>

        @if(_selectedFile != null)
        {
            <MudText Class="mt-2">Selected: @_selectedFile.Name (@Math.Round(_selectedFile.Size/1024.0, 1) KB)</MudText>
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel" 
                   Variant="Variant.Outlined"
                   Color="Color.Secondary">
            Cancel
        </MudButton>
        <MudButton OnClick="Add" 
                   Variant="Variant.Outlined"
                   Color="Color.Primary"
                   Disabled="@(_selectedFile == null)">
            @if(@isProcessing)
            {
                <MudProgressCircular Color="Color.Primary" Size="Size.Small" Indeterminate="true" Class="mr-2" />
                <span>Processing...</span>
            }
            else
            {
                <span>Add</span>
            }
        </MudButton>
    </DialogActions>
</MudDialog>