@using MudBlazor
@using MusicRecognitionApp.Core.Models.Business

<MudTextField @bind-Value="SearchQuery"
              Placeholder="Search by artist..."
              Adornment="Adornment.Start"
              AdornmentIcon="@Icons.Material.Filled.Search"
              Class="mb-4" />

@if (_artistStats == null)
{
    <MudProgressCircular Indeterminate="true" Color="Color.Primary" Class="mt-8" />
}
else
{
    <MudTable Items="@FilteredStats" Striped="true" Hover="true" FixedHeader="true">
        <ColGroup>
            <col style="width: 50%;" />
            <col style="width: 50%;" />
        </ColGroup>
        <HeaderContent>
            <MudTh>
                <MudTableSortLabel T="ArtistStatisticModel" SortBy="x => x.Artist">Artist</MudTableSortLabel>
            </MudTh>
            <MudTh>
                <MudTableSortLabel T="ArtistStatisticModel" SortBy="x => x.SongCount">Recognized Tracks</MudTableSortLabel>
            </MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd>@context.Artist</MudTd>
            <MudTd>@context.SongCount</MudTd>
        </RowTemplate>
        <NoRecordsContent>
            <MudText>No statistics yet</MudText>
        </NoRecordsContent>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>
}